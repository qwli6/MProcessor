# 写在前面
由于该系列笔记是 kotlin 学习教程的开篇，所以这篇文章只是粗略的过了一遍 kotlin 的基础语法，让自己对 kotlin 有个大致的了解，跟 java 相比较，有哪些不同点，有哪些相同点，在某一点上并没有过多的进行深入，具体的我们根据文档的流程一步一步来进行夯实巩固。

> ps: kotlin 其实是一门非常值得学习的语言，毕竟相对于 java 来说，写起来比较简洁，代码量比较少，可以使得开发更迅速。从另一方面来说，其实 java / android 程序员多掌握一门语言没啥坏处。
> 

下面我们就不废话了，正式开始我们的第一篇学习笔记。

# 一、定义包（Defining packages）
包的定义必须放在源代码的最前面，这个与 java 是类似的。例如如下定义：

```
package org.lqwit

import java.util.*

```
这个和 java 是一样的。

# 二、定义方法（Defining functions）
方法需要参数类型以及返回值，这个定义和 java 也没有什么区别，主要是在写法上和 java 存在区别。例如：

### 1. 有两个 Int 类型的参数和一个返回值为 Int 类型的方法

```
//kotlin code
fun sum(a: Int, b: Int) : Int{
	return a + b
}
``` 

可能有人看出来了，它和 Java 的写法区别，传统的 java 写法如下：

```
//java code
public void sum(int a, int b){
	return a + b;
}

```

### 2. kotlin 定义方法除了以上的写法外，还有其他的几种写法：比如
```
//把表达式和计算出来的结果作为返回值
fun sum(a : Int, b :Int) = a + b

//返回没有意义的值，也就是 java 中的 void，kotlin 中用 Unit 来代替
fun sum(a : Int, b : Int) : Unit {
	println("sum of $a and $b is ${a + b}");
}

//当 a = 3，b = 5 时候，输出为：
sum of 3 and 5 is 8


//当返回值类型为 Unit 时候， Unit 是可以被省略的。比如
fun printSum(a : Int, b : Int){
	println("sum of $a and $b is ${a + b}");
}

```

# 三、定义变量（Defining variables）

### 1. 常量（分配一次（只读）的局部变量）
常量一般用 val 来定义。比如：

```
//定义常量时指定类型， 同时进行初始化
val a : Int = 1 
//定义常量时不指定类型，kotlin 会自动推算出类型
val b = 2

//定义常量时，不对其进行初始化
val c : Int
//初始化
c = 100
```

### 2. 变量（可变的变量）
变量一般使用 var 来进行定义。比如

```
var x = 5 //根据这行代码可以自动推断出 x 是 Int 类型
x += 1
```


### 3. 顶层变量

```
val PI = 3.14
var x = 0

fun incrementX(){
	x += 1
}
```

# 四、注释（Comments）
注释这个是和 java 有异曲同工之妙， java 中的注释分为单行注释，以及块注释。同样 kotlin 也是支持单行注释和块注释的。

例如以下的模板

```
//这是单行注释
var a = 1

//代码中使用 String templates 模板
val s1 = "a is $a"

/**
这是多行注释
**/

```

# 五、使用字符串模板（Using string templates）

```
var a = 1
val s1 = "a is $a"

a = 2
val s2 = "${s1.replace("is","was")}, but now is $a"

//输出的 s1 和 s2
a is 1
a is 1, but now is 2
```


# 六、使用条件表达式（Using conditional expressions）
### 1. if 的条件表达式和 java 相同，如下：

```
fun maxOf(a : Int, b : Int){
	if(a > b){
		return a
	}else {
		return b
	}
}

//（使用 if 作为一个表达式）以上代码简写：
fun maxOf(a : Int, b : Int) = if(a > b) a else b
```
怎么样，相比 java 的那一大坨 if else， kotlin 是不是要简洁的多？

# 七、使用空值和检查 null（Using nullable values and checking for null）

当可能为 null 值的时候，这个引用必须被明确，清晰的标记为可以为空。这点 kotlin 是比 java 做的好一点的，如果这个值可能为空，那么我们只需要在类型后面加上一个 ？ 即可，表明该值是可以为空的。
例如:

```
//返回 null ，如果 str 没有包含整数。
fun parseInt(str : String): Int?{
	
}

```


# 八、类型检查和自动转换（Using type checks and automatic casts）

java 中存在强制类型转换，那么 kotlin 中也是存在类型转换的。表达式将会检查一个表达式是否是一个类型的实例，如果为特定类型检查不可变的局部变量或属性，则无需显式地将其强制转换。例如：

```
fun getStringLength(obj : Any) : Int?{
	
	//obj 会自动类型转换成 String 类型，并计算转换成 String 类型后的长度
	if(obj is String){
		return obj.length
	}
	return null
}

//简写

fun getStringLength(obj : Any): Int?{
	if(obj !is String){
		retrun null
	}
	return obj.length
}

```


# 九、使用 for 循环（Using a for loop）

和 java 一样，kotlin 也有 for 循环。它的 for 循环不太一样，例如我们 java 中的循环是这样的。

```
//普通 for
for(int i = 0; i < 20; i++){

}
//增强 foreach

for(Integer a : intList){
	System.out.println(a);
}

```

但是在 kotlin 中，for 循环是这样写的：

```
val items = listOf("apple", "banana", "kiwi")
for(item in items){
	println(item)
}
//这里的 item 相当于中间变量，这里是迭代输出集合 items 中的元素

//以上的代码同样可以改写成

val items = listOf("apple","banana", "kiwi")
for(index in items.indices){
	//...
}

```


# 十、使用 while 循环（Using a while loop）
java 中有 while 和 do...while 循环，而 kotlin 中只存在 while 循环。 kotlin 中的 while 循环如下：

```
val items = listOf("apple", "banana", "kiwi")
var index = 0
while (index < items.size){
	println("item at $index is ${items[index]}")
	index ++
}

以上的代码和 java 好像也没什么很大的区别。

```

# 十一、使用 when 表达式（Using when expression）

```
fun describe(obj : Any): String = 
	when(obj){
		1            ->"one"
		"Hello"      ->"Greeting"
		is Long      -> "Long"
		!is String   ->"Not a string"
		else         -> "Unknown"	
	}
}

```

是不是有点看不明白？别急，我们再来看看输出：


```
/**
 * 判断 obj， obj 的类型是 Any 类型，
**/

fun main(args : Array<String>){
	println(describe(1)) //output: one
	println(describe("Hello")) //output: Greeting
	println(describe(1000L)) //output: Long
	println(describe(2)) //output: Not a string
}


```

这下应该有人可以看出来了，when 关键这玩意有点类似于 java 中的 switch...case 语句。


# 十二、使用 ranges（Using ranges）
ranges 这个作用是：检查一个数字是否在某一个范围之间

```
val x = 10
val y = 9

//检查 x 是否在 1 - y+1 之间，也就是 1-10
if(x in 1..y+1){
	println("fits in range")
}

```

既然可以检查一个数字是否在某个区间类，那么同样可以检查某一个数字不在某个范围内，如下：

```
fun main(args : Array<String>){
	val list = listOf("a", "b", "c")
	
	if(-1 !in 0 ..list.lastIndex){
		println("-1 is out of range")
	}
	
	if(list.size !in list.indices){
		println("list size is out of valid list indices range too")
	}
}

```


# 十三、使用 Collections (Using Collections)

### 1. kotlin 的集合和 java 的集合同样也没有什么区别
例如：

```
//迭代一个集合（list 集合）
fun main(args : Array<String>)
	val items = listOf("apple", "banana")
	for(item in items){
		println(item)
	}
}

```
### 2. 检查一个对象是否包含在 set 集合中

```
fun main(args : Array<String>){
	val items = setOf("apple", "banana", "kiwi")
	when{
		"orange" in items -> println("juicy")
		"apple" in items -> println("apple is exists")
	}
}	
//output： apple is exists

```

### 3. 使用 lambada 表达式过滤和映射集合

我们可以通过高阶函数（方法）和 Lambadas 表达式来对我们需要的结果进行过滤和筛选。

```
fun main(args: Array<String>) {
    val fruits = listOf("banana", "avocado", "apple", "kiwi")
    fruits.filter { it.startsWith("a") } //剔除不以 a 开头的
    .sortedBy { it } //排序，这里是按 abcdefg的顺序排序
    .map { it.toUpperCase() } //全部转换成大写
    .forEach { println(it) } //遍历输出剩下的内容
}

//output： APPLE
//	       AVOCADO

```


# 总结
以上只是对 kotlin 语法的一个基本理解。通过上面的代码我们可以粗略的看出来 kotlin 相比较 java 主要有如下的几种不同点：

1. java 中的 void 返回类型在 kotlin 中被 Unit 进行取代！同样 kotlin 是可以不写 Unit 的，但是 java 不行。
2. kotlin 是支持对类型进行推断的，也就是说如果你不写类型，kotlin 会根据返回值自动推断出类型，相比较 java 而言，简洁不少。
3. java 中的所有的对象都继承自 Object，kotlin 中充当这个作用的是 Any 关键字。
4. kotlin 不需要每个语句后面都添加分号（；）
5. 类的实现和继承很简单，只需要用 ：代替即可
6. 在定义变量方面，val 表示常量，var 表示变量。
7. 最重要的一点： kotlin 是类型安全的，也就是说我们不需要再去额外的判 null 操作。也就是说 NullPointException 得到了很好的解决。











